@using Beyova;
@using Beyova.CommonAdminService;
@{
    var broadcastAlert = ViewBag.BroadcastAlert == null ? null : ViewBag.BroadcastAlert.ToString();
    var currentUserInfo = ContextHelper.CurrentUserInfo;
    var currentEnvironment = EnvironmentBaseController.CurrentEnvironment.SafeToString("DEV");
    var environment = Beyova.CommonAdminService.AdminBaseController.CurrentEnvironment;
}
<!DOCTYPE html>
<!--[if IE 9 ]><html class="ie ie9" lang="en" class="no-js"> <![endif]-->
<!--[if !(IE)]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->

<head>
    <title>@ViewBag.Title</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- CSS -->
    <link rel="stylesheet" href="@(Url.Content("~/css/bootstrap.min.css"))">
    <link rel="stylesheet" href="@(Url.Content("~/css/font-awesome.min.css"))">
    <link rel="stylesheet" href="@(Url.Content("~/Beyova/css/king/main.css"))">

    <link rel="stylesheet" href="@(Url.Content("~/Beyova/css/bootstrap-select.min.css"))">
    @*<link rel="stylesheet" href="@(Url.Content("~/Beyova/css/datepicker3.css"))">*@
    <!--[if lte IE 9]>
        <link href="@(Url.Content("~/Beyova/css/king/main-ie.css"))" rel="stylesheet" type="text/css"/>
        <link href="@(Url.Content("~/Beyova/css/king/main-ie-part2.css"))" rel="stylesheet" type="text/css"/>
    <![endif]-->

    <link rel="stylesheet" href="@(Url.Content("~/Beyova/css/overall-customize.css"))">
    <link rel="stylesheet" href="@(Url.Content("~/Beyova/css/king-customize.css"))">
    @RenderSection("css", false)

    <script src="@(Url.Content("~/Scripts/jquery-3.1.1.min.js"))"></script>
    <script src="@(Url.Content("~/Scripts/bootstrap.min.js"))"></script>
</head>
<body class="dashboard">
    <!-- WRAPPER -->
    <div class="wrapper">
        <!-- TOP BAR -->
        <div class="top-bar">
            <div class="container">
                <div class="row">
                    <!-- logo -->
                    <div class="col-md-2 logo">
                        @Html.Partial("~/Views/Shared/_Logo.cshtml")
                    </div>
                    <!-- end logo -->
                    <div class="col-md-10">
                        <div class="row">
                            <div class="col-md-9">
                                <div class="top-bar-right">
                                    <!-- responsive menu bar icon -->
                                    <a href="#" class="hidden-md hidden-lg main-nav-toggle"><i class="fa fa-bars"></i></a>
                                </div>
                                <!-- /top-bar-right -->
                            </div>
                        </div>
                        <!-- /row -->
                    </div>
                </div>
                <!-- /row -->
            </div>
            <!-- /container -->
        </div>
        <!-- /top -->
        <!-- BOTTOM: LEFT NAV AND RIGHT MAIN CONTENT -->
        <div class="bottom">
            <div class="container">
                <div class="row">
                    <!-- left sidebar -->
                    <div class="col-md-2 left-sidebar">
                        <nav class="main-nav" id="side-menu">
                            <ul class="main-menu">
                                <li>
                                    <a href="#" class="js-sub-menu-toggle">
                                        <i class="fa fa-puzzle-piece fa-fw"></i><span class="text"> Application Insights </span>
                                        <i class="toggle-icon fa fa-angle-left"></i>
                                    </a>
                                    <ul class="sub-menu ">
                                        <li><a href="@(Url.Action("PerformanceData", "ApplicationInsights"))"><span class="text"> Performance Data</span></a></li>
                                        <li><a href="@(Url.Action("RequestsData", "ApplicationInsights"))"><span class="text"> Requests Data</span></a></li>
                                        <li><a href="@(Url.Action("RequestExceptions", "ApplicationInsights"))"><span class="text"> Request Exceptions</span></a></li>
                                    </ul>
                                </li>
                                </ul>
                            </nav>
                        <!-- /main-nav -->
                        <div class="sidebar-minified js-toggle-minified">
                            <i class="fa fa-angle-left" style="background-color:#f1f1f1 !important;"></i>
                        </div>
                    </div>
                    <!-- end left sidebar -->
                    @{
                        if (!string.IsNullOrWhiteSpace(broadcastAlert))
                        {
                            <text>
                                <div class="alert alert-danger top-general-alert">
                                    <span>@Html.Raw(broadcastAlert)</span>
                                    <button type="button" class="close">&times;</button>
                                </div>
                            </text>
                        }
                    }
                    <!-- content-wrapper -->
                    <div class="col-md-10 content-wrapper">
                        @RenderBody()
                    </div>
                    <!-- /content-wrapper -->
                </div>
                <!-- /row -->
            </div>
            <!-- /container -->
        </div>
        <!-- END BOTTOM: LEFT NAV AND RIGHT MAIN CONTENT -->
    </div>
    <!-- /wrapper -->
    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer">
            <!--
                Copyright
            -->
        </div>
    </footer>
    <!-- END FOOTER -->
    <div id="modalContainer">
        @RenderSection("modal", false)
    </div>

    <!-- Javascript -->
    <script src="@(Url.Content("~/Beyova/js/jquery.form.js"))"></script>
    <script src="@(Url.Content("~/Beyova/js/validator.js"))"></script>
    <script src="@(Url.Content("~/Beyova/js/king/king-common.js"))"></script>

    <script src="@(Url.Content("~/Beyova/js/bootstrap-switch.min.js"))"></script>
    <script src="@(Url.Content("~/Beyova/js/bootstrap-multiselect.js"))"></script>
    <script src="@(Url.Content("~/Beyova/js/qrcode.min.js"))"></script>

    <script src="@(Url.Content("~/Beyova/js/bootstrap-select.js"))"></script>

    <script src="@(Url.Content("~/Beyova/js/jquery.sparkline.min.js"))"></script>
    <script src="@(Url.Content("~/Beyova/js/jquery.dataTables.min.js"))"></script>
    <script src="@(Url.Content("~/Beyova/js/jquery.gritter.min.js"))"></script>
    <script src="@(Url.Content("~/Beyova/js/bootstrap-datepicker.js"))"></script>

    <script src="@(Url.Content("~/Beyova/js/dataTables.bootstrap.js"))"></script>
    <script src="@(Url.Content("~/Beyova/js/king/king-chart-stat.js"))"></script>
    <script src="@(Url.Content("~/Beyova/js/king/king-table.js"))"></script>
    <script src="@(Url.Content("~/Beyova/js/king/king-components.js"))"></script>

    <script src="@(Url.Content("~/Beyova/js/beyova.js"))"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            var url = window.location.pathname.toLocaleLowerCase();
            var index = url.indexOf("?");
            if (index > -1) {
                url = url.substr(0, index);
            }
            url = url.replace(/^\/|\/$/gm, '') + '/';

            var navItems = $("#side-menu").find("a[url]");
            for (var i = 0; i < navItems.length; i++) {
                var lnk = navItems.eq(i);
                if (url.indexOf(lnk.attr("url")) == 0) {
                    var li = lnk.closest("li");
                    li.addClass("active");
                    var ul = li.parent("ul");
                    if (ul.parent("li").length) {
                        ul.prev("a").click();
                    }
                }
            }

            $("#environmentNavigation").delegate("li a", "click", function (e) {
                var value = $(this).attr("value");
                if (value && window.location.toString().indexOf(value) < 0) {
                    window.location.href = value;
                }
            });
        });
    </script>
    @RenderSection("js", false)

    @RenderSection("plugin", false)

</body>

</html>
